
{% load static %}

<title>Ruta</title>

<link rel="icon" href="{% static 'img/logo.ico' %}" >
<link href="{% static 'css/base.css' %}" rel="stylesheet">
<link href="{% static 'css/map.css' %}" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
       <!-- para el mapa -->
<link rel="stylesheet" type="text/css" href="{% static 'css/map.css' %}">
<link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

<link rel="stylesheet" type="text/css" href="{% static 'css/leaflet-routing-machine.css' %}" />
<script src="{% static 'js/leaflet-routing-machine.js' %}"></script>


<div id="map" class="map" style="position: absolute; width: 100%; height: 100%; "></div>
<!-- <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" /> -->
<!-- <div style="position: absolute; top: 80px; left: 11px; width: 8px; height: 8px; background-position: center; background-size: contain; background-color: white; z-index: 800;">
    <a href="/pedidos" style="position: absolute; top: 80px; left: 11px; width: 8px; height: 8px; background-position: center; background-size: contain; background-color: white; z-index: 400; cursor: pointer;">VOLVER</a>
</div> -->
<a href="/pedidos" class="button_volver"></a>
<a href="/auth/clients" class="button_clientes"></a>
<a href="/products" class="button_productos"></a>
<h2 style="position: absolute; top: 10px; left: 900px; width: 300px; height: 20px; background-position: center; background-size: contain; z-index: 400;;">RUTA DEL PEDIDO</h2>




<!-- <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script> -->

<script>
    var map = L.map('map');

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    var iconoBase = L.Icon.extend({
        options: {
            iconSize:     [45, 45],
            iconAnchor:   [23, 43],
            //popupAnchor:  [-3, -76]
        }
    });
    var iconoVerde = new iconoBase({iconUrl: '/static/img/logo.png'})

    L.Routing.control({
        waypoints: [
            L.latLng({{pedido.ubicacion.coordinates.1}}, {{pedido.ubicacion.coordinates.0}}),
            L.latLng(-24.185761, -65.300127)
        ],
        language: 'es',
        routeWhileDragging: true
    }).addTo(map);
    L.marker([-24.185761, -65.300127], {icon: iconoVerde}).addTo(map);
    
</script>

